<div class="product-card">
  <!-- Product Image Section -->
  <div class="product-image-wrapper">
    <div class="product-image">
      <img
        [src]="product.images && product.images.length > 0 ? product.images[0].src : 'https://via.placeholder.com/300x300?text=No+Image'"
        [alt]="product.name"
        class="product-img"
         sizes="(max-width: 600px) 300px,
         (max-width: 1024px) 600px,
         1024px"
        loading="lazy"
        decoding="async"
      />




      <!-- Overlay on Hover -->


      <!-- Product Badges -->
      <div class="badges-container">

        <div
          class="product-badge stock-badge"
          [class.in-stock]="product.stock_status === 'instock'"
          [class.out-of-stock]="product.stock_status !== 'instock'"
        >
          {{ product.stock_status === 'instock' ? 'โ ูุชููุฑ' : 'โ ุบูุฑ ูุชููุฑ' }}
        </div>
      </div>

      <!-- Quick Add (Mobile) -->
      <button
        aria-label="ุฅุถุงูู ุงูู ุงูุณูู"
        class="btn-quick-add-mobile"
        (click)="addToCart()"
        [disabled]="product.stock_status !== 'instock'"
        *ngIf="product.stock_status === 'instock'"
      >
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="9" cy="21" r="1"></circle>
          <circle cx="20" cy="21" r="1"></circle>
          <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
        </svg>
      </button>
    </div>
  </div>

  <!-- Product Info Section -->
  <div class="product-info">
    <h3 class="product-name">{{ product.name }}</h3>
    <!-- <div class="product-description" [innerHTML]="product.short_description"></div> -->

    <div class="product-price-section">
      <div class="price-display">

        <span class="current-price">ููุญุตูู ุนูู ุนุฑุถ ุงูุณุนุฑ</span>
      </div>
    </div>

    <div class="product-actions">
      <button
        aria-label="ุฅุถุงูู ุงูู ุงูุณูู"
        class="btn btn-primary btn-add-to-cart"
        (click)="addToCart()"
        [disabled]="product.stock_status !== 'instock'"
        [class.disabled]="product.stock_status !== 'instock'"
      >
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="9" cy="21" r="1"></circle>
          <circle cx="20" cy="21" r="1"></circle>
          <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
        </svg>
        <span class="btn-text">{{ product.stock_status === 'instock' ? 'ุฃุถู ููุณูุฉ' : 'ุบูุฑ ูุชููุฑ' }}</span>
      </button>

      <button
       aria-label="  ุณูู ุงูุชุณูู"
       class="btn btn-primary btn-add-to-cart" routerLink="/cart">
        ุณูุฉ ุงูุชุณูู
      </button>
    </div>

    <button aria-label="ูุดุงูุฏู" class="favorite-btn" (click)="toggleFavorite()">
          <svg *ngIf="isFavorite()" fill="#ff4081" stroke="#ff4081" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>
          <svg *ngIf="!isFavorite()" fill="none" stroke="currentColor" stroke-width="2" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>
    </button>

    <div class="product-meta">
      <div class="meta-item">
        <span class="meta-icon">๐</span>
        <span class="meta-text">ุชูุตูู ุจููู ูุจุฑุฏ</span>
      </div>
      <div class="meta-item">
        <span class="meta-icon">๐</span>
        <span class="meta-text">ุฏูุน ุขูู</span>
      </div>
    </div>
  </div>
</div>




<!-- Toast -->
<div class="toast" [class.show]="showToast">
  <div class="toast-content">
    <span class="toast-icon">โ</span>
    <span class="toast-message">ุชู ุฅุถุงูุฉ ุงูููุชุฌ ุฅูู ุงูุณูุฉ ุจูุฌุงุญ!</span>
  </div>
</div>
